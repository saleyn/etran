<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- TITLE -->
  <link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github-dark-dimmed.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/languages/erlang.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>
<body>
<a name="top"></a>
<div class="navcontainer">
  <div class="navbar">
    <div class="dropdown">
      <i class="fa fa-bars dropbtn"></i>
      <div class="dropdown-content">
<a class="mod" href="defarg.html">defarg</a>
<a class="mod" href="erlpipe.html">erlpipe</a>
<a class="mod" href="etran.html">etran</a>
<a class="mod" href="etran_util.html">etran_util</a>
<a class="mod" href="iif.html">iif</a>
<a class="mod" href="listcomp.html">listcomp</a>
<a class="mod" href="str.html">str</a>
      </div>
    </div>
    <a class="mod" href="index.html">Overview</a>
    <!-- MODULE MENU BEGIN -->
    <a class="mod" href="#top">Description</a>
    <a class="mod" href="#types">Data Types</a>
    <a class="mod" href="#index">Function Index</a>
    <a class="mod" href="#functions">Function Details</a>
    <!-- MODULE MENU END -->
  </div>
</div>
<div class="main">
<a name="top"></a>
<hr>

<h1>Module erlpipe</h1>

<p><b>Authors:</b> Serge Aleynikov (<a href="mailto:saleyn(at)gmail(dot)com"><tt>saleyn(at)gmail(dot)com</tt></a>).</p>

<h2><a href="#top" name="description">Description</a></h2><p>Erlang pipeline parse transform</p>
  
   <p>This transform implements a parser syntax extension that enables application
   of cascading function calls using the <code>/</code> operator.</p>
  
   <p>In the <code>LHS / RHS / ... Last.</code> notation, the result of evaluation of the LHS
   expression is passed as an argument to the RHS expression. This process
   continues until the <code>Last</code> expression is evaluated.  The head element of the
   pipeline must be either a term to which the arithmetic division <code>/` operator
   cannot apply (i.e. not integers, floats, functions), or if you need to pass
   integer(s) or float(s), wrap them in a list brackets.
  
   This transfor is inspired by the similar functionality in Linux (i.e. `|</code>
   pipe) and Elixir (<code>|&gt;</code> pipe).</p>
  
   <p>When using this as a parse transform, include the <code>{parse_transform,erlpipe}</code>   
compiler option.</p>
  
   The following examples illustrate the work of the transform, in which:
   <pre ><code class="language-erlang">   test1(A)   -&gt; [A]   / fun1 / mod:fun2 / fun3.
   test2(A,B) -&gt; [A,B] / fun4 / fun5() / io:format("~p\n", [_]).</code></pre >
   will be transformed to:
   <pre ><code class="language-erlang">   test1(A)   -&gt; fun3(mod:fun2(fun1(A))).
   test2(A,B) -&gt; io:format("~p\n", [fun5(fun4(A,B))]).</code></pre >
  
   Similarly to Elixir, a special <code>tap/2</code> function is implemented, which
   passes the given argument to an anonymous function, returning the argument
   itself. The following:
   <pre ><code class="language-erlang">   f(A) -&gt; A+1.
   ...
   test_tap() -&gt;
     [10] / tap(f)
          / tap(fun f/1)
          / tap(fun(I) -&gt; I+1 end).</code></pre >
   is equivalent to:
   <pre ><code class="language-erlang">   ...
   test_tap() -&gt;
     begin
       f(10),
       begin
         f(10),
         begin
           (fun(I) -&gt; I end)(10)
           10
         end
       end
     end.</code></pre >
  
   For debugging the AST of the resulting transform, pass the following
   options to the <code>erlc</code> compiler:
   <dl>
   <li><code>-Derlpipe_orig</code> - print the original AST before the transform</li>
   <li><code>-Derlpipe_ast</code>  - print the transformed AST</li>
   <li><code>-Derlpipe_src</code>  - print the resulting source code after the transform</li>
   </dl>
  
<h2><a href="#top" name="index">Function Index</a></h2>
<table class="tab" width="100%" class="tab" summary="function index"><tr class="tab"><td class="tab"><a href="#parse_transform-2">parse_transform/2</a></td><td class="tab">parse_transform entry point.</td></tr>
</table>

<h2><a href="#top" name="functions">Function Details</a></h2>

<h3 class="function"><a href="#index"><i class="arrow up"></i></a><a  class="function" name="parse_transform-2">parse_transform/2</a></h3>
<div class="spec">
<p><tt>parse_transform(AST, Options) -&gt; any()</tt></p>
<p> </p>
</div><p>parse_transform entry point</p>
<hr>

</div>
</body>
</html>
